<!DOCTYPE html>
<html>
<style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  /*shape-rendering: crispEdges;*/
}

/*
.x.axis path {
  display: none;
}


.tick line {
	stroke: black;
}
*/
.ref_traj, .des_traj, .est_traj {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}
.legendbox {
	fill: none;
	stroke: black;
	stroke-width: 1.5px;
}
</style>
<body>
<button type="button" id="testPlotButton">Test Plotting!</button>
<div id="container-wrapper"></div>
<!--script src='plot_result.js'> </script-->
<script src="https://d3js.org/d3.v3.min.js"></script>
<script> 

var data = {"ref_traj": "[[0.01501611278400938, -0.031783887215990625, -0.08578388721599067, -0.13978388721599072, -0.19171146938288064, -0.22815410627606686, -0.24047900629925328, -0.24439110503315414, -0.24681655831458532, -0.24848533317012267, -0.2495466809800726, -0.25012654675108603, -0.25054292912451914, -0.2508328220634985, -0.25098677212615894, -0.2510623008279528, -0.2510907461024097, -0.2511191913768666, -0.2511476366513235, -0.2511760819257804, -0.2512045272002373, -0.25123297247469417, -0.25750017083316384, -0.2889211903926329, -0.3400813119357209, -0.3937970453580024, -0.4475207045867111, -0.5014279917586532, -0.5553353381887361, -0.6092600268138324, -0.6632137065145515, -0.7171673862152707, -0.7711314916716883, -0.8250983537012959, -0.8790661239568742, -0.9330373625753821, -0.9870086011940817, -1.0409808222880197, -1.094953634952255, -1.1489264476164904, -1.202899834698598, -1.2568732472861894, -1.3108467426830972, -1.3648203765951916, -1.418794010507286, -1.4727677098360035, -1.5267414264677557, -1.5807151495779166, -1.6346888974318683, -1.6886626452858213, -1.7426363996969687, -1.7966101596756017, -1.8505839196542346, -1.9045576839453222, -1.9585314484278964, -2.0125052135416817, -2.066478979711285, -2.1204527458808884, -2.1636441149768464, -2.1761001367025115, -2.1572032553323073, -2.112197896430842, -2.064475269086683, -2.016752641742524, -1.9690300143983648, -1.921307387054203, -1.8735847597100412, -1.8258621323658795, -1.7781395050217177, -1.730416877677556, -1.682026510076985, -1.633540485859369, -1.585054461641753, -1.536568437424137, -1.4880824132065211, -1.4395963889889052, -1.3911103647712892, -1.3426243405536733, -1.2941383163360574, -1.245122213433193, -1.1945151815879584, -1.1438779009837405, -1.0922420467641973, -1.0402982689656537, -0.9883544924254832, -0.937101318034481, -0.8899944136518037, -0.8429176604355515, -0.7958409072192993, -0.7487641540030472, -0.701687400786795, -0.6546106475705429, -0.6075338943542907, -0.5604571411380386, -0.5133803879217864, -0.46630363470553426, -0.4192268814892821, -0.37215012827302996, -0.3250733750567778, -0.27799662184052565, -0.2309198686242735, -0.18384311540802134, -0.1367663621917692, -0.08968960897551703, -0.0424175168837479, 0.007589974212623845, 0.05762306467559079, 0.1076561551385577, 0.15768924560152459, 0.20772233606449148, 0.25775542652745836, 0.30778851699042525, 0.35782160745339214, 0.40785469791635903, 0.4578877883793259, 0.5079208788422929, 0.5579539693052596, 0.6079870597682265, 0.6580201502311934, 0.7080532406941603, 0.7580863311571272, 0.8081194216200941, 0.858152512083061, 0.9081856025460279, 0.9582186930089948, 1.0082517834719618, 1.0582848739349284, 1.1083179643978953, 1.1585245598944602, 1.2088780557730663, 1.2592315516516723, 1.3095850475302784, 1.3599385434088844, 1.4102920392874905, 1.4606455351660965, 1.5109990310447026, 1.5613525269233086, 1.6117060228019147, 1.6620595186805207, 1.7124130145591268, 1.7627665104377328, 1.8131200063163389, 1.863473502194945, 1.913826998073551, 1.964180493952157, 2.0145339898307633, 2.064887485709371, 2.081671984335574], [1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07], [1.6532731788489264e-19, -2.8584366951515206e-19, -2.8584366951515206e-19, -2.8584366951515206e-19, 0.00510634911680893, 0.034908496363761025, 0.0845160588469867, 0.13837416393337282, 0.19231425798008284, 0.24628643457716148, 0.3002760033921311, 0.35427279654098226, 0.4082710333467175, 0.4622702479798867, 0.5162700285277688, 0.5702699416155237, 0.6242699341235454, 0.678269926631567, 0.7322699191395887, 0.7862699116476104, 0.8402699041556321, 0.8942698966636538, 0.9446796628073576, 0.9777770669475039, 0.9889566907225749, 0.9944902233109274, 0.9999259267343606, 1.0030888948571877, 1.0062508564108759, 1.0090664346366833, 1.0113026025087708, 1.0135387703808532, 1.0155023748665473, 1.0173938829097, 1.0192585640143712, 1.0210207790932135, 1.0227829941661672, 1.0245146959167746, 1.0262280239972703, 1.0279413520777667, 1.0296364840703671, 1.0313308080210153, 1.0330224885411134, 1.0347097473603661, 1.0363970061796188, 1.038082170746618, 1.039766781370898, 1.0414511843701184, 1.043134794360012, 1.0448184043498607, 1.0465018041026581, 1.0481850253504283, 1.0498682465981986, 1.0515513295579384, 1.0532344063772527, 1.0549174629542293, 1.0566004856721465, 1.0582835083900641, 1.0567572046383467, 1.0465096151645443, 1.0280968475351966, 1.0034454813929155, 0.9781759178950968, 0.9529063543972789, 0.9276367908994609, 0.902367227401643, 0.877097663903825, 0.8518281004060063, 0.8265585369081876, 0.8012889734103689, 0.7773293513653465, 0.7535574045462754, 0.7297854577272043, 0.7060135109081331, 0.682241564089062, 0.6584696172699909, 0.6346976704509206, 0.6109257236318504, 0.5871537768127801, 0.564613574242335, 0.5457740326392236, 0.5273834725739159, 0.5298193808846463, 0.5445789184117866, 0.5593384603675795, 0.5757602501465721, 0.6021415756068833, 0.6285949176758183, 0.6550482597447533, 0.6815016018136884, 0.7079549438826234, 0.7344082859515584, 0.7608616280204934, 0.7873149700894284, 0.8137683121583634, 0.8402216542272984, 0.8666749962962335, 0.8931283383651685, 0.9195816804341035, 0.9460350225030385, 0.9724883645719735, 0.9989417066409085, 1.0253950487098435, 1.0518483907787786, 1.077896340789569, 1.0982643637503506, 1.118579133222942, 1.1388939026955334, 1.1592086721681247, 1.179523441640716, 1.1998382111133075, 1.2201529805858988, 1.2404677500584902, 1.2607825195310816, 1.281097289003673, 1.3014120584762647, 1.3217268279488574, 1.3420415974214501, 1.3623563668940428, 1.3826711363666355, 1.4029859058392284, 1.4233006753118211, 1.4436154447844138, 1.4639302142570065, 1.4842449837295992, 1.5045597532021922, 1.5248745226747848, 1.5451892921473775, 1.5650666768347914, 1.5845737384485543, 1.6040808000623172, 1.6235878616760802, 1.643094923289843, 1.662601984903606, 1.682109046517369, 1.7016161081311318, 1.7211231697448948, 1.7406302313586577, 1.7601372929724206, 1.7796443545861835, 1.7991514161999465, 1.8186584778137094, 1.8381655394274723, 1.8576726010412352, 1.8771796626549981, 1.896686724268761, 1.916193785882524, 1.9226961397537783]]", "avgerr": 254.326986, "est_traj": "[[0.03141711576650032, 0.031219762268223403, 0.028070008273188642, 0.018123844472737488, 0.0016461856443297416, -0.01793317304384889, -0.03778475298356959, -0.05466701398485867, -0.06973600336567959, -0.085004177689845, -0.09848658296762633, -0.11161838885845737, -0.12489085810336345, -0.1370522814373718, -0.1491731504374087, -0.16022414106755184, -0.17125740172448284, -0.18135178521503204, -0.1914514288855276, -0.20069450593535718, -0.20993638772095086, -0.21876409245585965, -0.22683702587903576, -0.23456328811752913, -0.24228639203495633, -0.24934933212037172, -0.2564086954483688, -0.26286361719741586, -0.2693141283635566, -0.27547318496589474, -0.281103384200793, -0.2864890524116109, -0.2918690377443763, -0.29678555153164077, -0.301695740141071, -0.3061818270060468, -0.31066097900636347, -0.3147521324126406, -0.3188357692235505, -0.32256451417225546, -0.32628519527292266, -0.32968135903141355, -0.33306894124325803, -0.33615986295224665, -0.3392417229904225, -0.3420524957884145, -0.3448537633820247, -0.3474074060136639, -0.34995112738337253, -0.3522687459841276, -0.35457605220929206, -0.356677015509691, -0.35876731322419025, -0.36066940681781784, -0.36256050820828517, -0.36428005234304556, -0.365988306949661, -0.36754028859228627, -0.3690807009822892, -0.37047885696452026, -0.37186517985960144, -0.3731221201847733, -0.3743669978383942, -0.37549431594851496, -0.37660935598032524, -0.37761768295223824, -0.37861352786346414, -0.37951261554443616, -0.3803990382473698, -0.38123304718447587, -0.3819506638680244, -0.3826905784796305, -0.3833843550392838, -0.3840066164306246, -0.3846157559221101, -0.3851604495542879, -0.3856918833111598, -0.3861653557712615, -0.3866254521258168, -0.3870335537739834, -0.38742817146768044, -0.3877762637873818, -0.38811076961180896, -0.388403766144883, -0.38868307496537347, -0.3889254828360136, -0.3891541204120918, -0.3893500915136293, -0.3895322138686653, -0.3896855567560656, -0.3898249830320779, -0.38993920019044515, -0.3900394357177292, -0.3901177334707999, -0.3901819831642787, -0.39022729815881047, -0.39025851369677333, -0.3902735623673611, -0.3902744668472179, -0.3902617358219834, -0.390234807209244, -0.39019656212095294, -0.39014407649022814, -0.3900824140668801, -0.3900064745219387, -0.3899233176649095, -0.3898258479171166, -0.3897229602261628, -0.3896057258204578, -0.3894847231019239, -0.3893493442866306, -0.3892117136925376, -0.38905967637003847, -0.3889067769746438, -0.38873944544924, -0.3885725295485101, -0.3883911590945467, -0.38821137861611016, -0.3880171197848699, -0.3878255274113728, -0.38761943870146354, -0.3874170014411859, -0.38720004712833606, -0.3869876515266537, -0.3867607182323625, -0.3865391766258179, -0.38630309027523424, -0.38607317057990437, -0.38582869498335914, -0.38559108277798904, -0.38533889619374634, -0.38509421011072925, -0.38483493014274206, -0.3845837413929848, -0.3843179534717041, -0.3840608070706468, -0.3837890524137562, -0.38352643200134706, -0.38324918857717627, -0.38298154037719, -0.382711589577177, -0.3824270085716827, -0.38214011790792934, -0.3818510186562544, -0.3815725098892481, -0.38129214559046115, -0.3809971355513418, -0.38089408310763895], [1.312219274819978e-07, 1.321114533530638e-07, 1.333072554568315e-07, -0.00019901211406237135, -0.006218472163329249, -0.030880663352393527, -0.08510494757650648, -0.16353206571118759, -0.2626696161410453, -0.3882546004271452, -0.515707121546424, -0.6531769075135686, -0.8065386803031068, -0.9615132220209426, -1.1310744076297776, -1.2994130037346143, -1.4808256535612567, -1.65875730715614, -1.8487160274171137, -2.033662588777858, -2.229935394670681, -2.42876896390265, -2.6210083150660206, -2.8149660980494757, -3.0193156857080155, -3.2160737217539843, -3.422933453119781, -3.6217504738210335, -3.830456351446523, -4.039907820629251, -4.240849993786846, -4.44229330810302, -4.653353040427384, -4.855613821292253, -5.067406272722434, -5.270267819727154, -5.482598714766449, -5.685901710273881, -5.898628249396245, -6.102255609697874, -6.315272838066327, -6.5191384957273275, -6.732369271092051, -6.936409988386869, -7.1497976418400215, -7.353966955787432, -7.567469833708763, -7.771733583378345, -7.9853210664079795, -8.189654151424394, -8.403303743820281, -8.607687717294949, -8.821382882229631, -9.02580418253336, -9.239532768377709, -9.443981441729154, -9.657734533121783, -9.862203275918239, -10.075974334130372, -10.280457780800058, -10.494241987092519, -10.69873618986309, -10.912530013315886, -11.117032076786918, -11.33083292044591, -11.535340717573783, -11.749146680921621, -11.95365865893228, -12.167468350097225, -12.381279533467115, -12.576499551404728, -12.790312986818163, -13.004127344363784, -13.208646155731637, -13.422461917341364, -13.626981859963148, -13.840798623768634, -14.04531938080963, -14.259136866522077, -14.463658203761119, -14.677476191522459, -14.881997923013369, -15.095816252983914, -15.300338261884484, -15.514156836470379, -15.718679038057854, -15.932497775424046, -16.137020100089206, -16.350838938927808, -16.55536133871307, -16.769180236153392, -16.973702672147876, -17.187521587301863, -17.392044030823676, -17.60586295167104, -17.810385399758296, -18.024204319601385, -18.228726757501132, -18.4425456628105, -18.647068086589368, -18.86088697173752, -19.065409367066636, -19.279228218786354, -19.483750587786563, -19.69756941746659, -19.902091767161245, -20.11591057607487, -20.320432901541185, -20.534251683089767, -20.738773985565963, -20.95259274370038, -21.157115019402685, -21.370933745451428, -21.575455988861172, -21.789274684568895, -21.993796906338474, -22.207615582739376, -22.412137785039263, -22.625956440349928, -22.83047862096201, -23.044297253791136, -23.24881941786755, -23.462638038941428, -23.66716019297861, -23.88097880338677, -24.085500946233246, -24.299319543276717, -24.503841670663324, -24.717660249515347, -24.922182365378102, -25.136000937793895, -25.340523043792803, -25.554341602103772, -25.75886369611772, -25.972682242582103, -26.177204322740053, -26.391022851778306, -26.595544917400733, -26.809363433080783, -27.01388548388694, -27.218407532427218, -27.432226039651113, -27.646044546274723, -27.859863050843938, -28.064385097718638, -28.268907142113616, -28.482725639057715, -28.557097289156708], [0.007145960646612581, 0.006743842587818776, 0.006354710444279169, 0.00618085609126462, 0.006184310998824459, 0.0062355740489397635, 0.0063995733704263645, 0.0066602879048305134, 0.0069799975054664265, 0.007364060616061042, 0.007745967518015644, 0.008162247618938499, 0.008635484821535136, 0.009119841902185743, 0.00965214668764302, 0.010180583902010605, 0.010749640592839555, 0.01130791922370351, 0.011904615530890178, 0.012486341874086716, 0.013104342268978036, 0.013730843373265553, 0.014336837336332335, 0.014948457215959145, 0.015593054657096598, 0.016213894091247807, 0.016866785469111953, 0.01749443692696402, 0.01815343209098231, 0.018814887472494723, 0.019449554540688703, 0.020085876121556455, 0.02075264009706816, 0.021391661524830893, 0.02206084626764342, 0.022701852253625872, 0.023372815568827546, 0.024015280608992905, 0.02468755129774195, 0.025331088089515015, 0.026004319472409002, 0.0266486441013003, 0.02732258261843042, 0.027967486915003913, 0.028641944459136617, 0.029287275038324977, 0.029962114209104114, 0.030607757604595828, 0.031282878146595215, 0.031928751542983476, 0.03260407814666346, 0.03325012017392153, 0.033925598227156004, 0.03457176481488989, 0.03524735427129995, 0.03589361208515268, 0.036569283286744234, 0.03721560885019681, 0.03789134036096142, 0.03853771507239733, 0.03921349154484003, 0.03985990266602674, 0.040535710789636525, 0.04118214872394669, 0.041857981249913766, 0.042504438718346915, 0.043180288211253255, 0.04382675977546565, 0.044502623253884876, 0.04517849092226965, 0.04579559189778968, 0.04647146762393033, 0.047147347348862154, 0.04779384366830654, 0.048469727700378905, 0.04911622801728185, 0.04979211578963116, 0.050438619235020854, 0.05111451033580548, 0.05176101581458565, 0.052436909177502614, 0.05308341626454972, 0.05375931060405816, 0.054405818672595016, 0.05508171390994836, 0.055728223134010886, 0.05640411908490699, 0.05705062886302486, 0.05772652592132611, 0.05837303624681359, 0.05904893388314644, 0.059695444464488406, 0.06037134190316432, 0.06101785254343755, 0.061693750791807125, 0.0623402618807914, 0.06301615944177488, 0.06366267023400465, 0.06433856878887895, 0.06498507998642096, 0.06566097864669458, 0.06630748993675165, 0.06698338812079632, 0.06762989977154742, 0.06830579807995951, 0.06895230958580328, 0.06962820775185634, 0.07027471913320558, 0.07095061745135404, 0.07159712935889617, 0.07227302788645142, 0.0729195395113707, 0.07359543720295972, 0.07424194876959422, 0.07491784761359202, 0.07556435918673687, 0.076240257658741, 0.07688676914854473, 0.07756266772195815, 0.07820917949830254, 0.07888507746344303, 0.07953158867747293, 0.08020748728599371, 0.08085399910420309, 0.0815298975904057, 0.08217640928809, 0.08285230784129369, 0.08349881935744252, 0.08417471781319032, 0.08482122986542417, 0.08549712842544005, 0.08614364021975908, 0.08681953850938115, 0.08746604998464075, 0.08814194825521261, 0.08878845996496819, 0.08946435837526265, 0.09011087010263946, 0.09078676855885223, 0.09143328018005019, 0.09207979196550502, 0.09275569060287535, 0.09343158894412051, 0.09410748767368524, 0.09475399932430754, 0.09540051073108656, 0.09607640978875917, 0.09631150481795207]]", "has_dnn": true, "des_traj": "[[0.01501611278400938, -0.031783887215990625, -0.08578388721599067, -0.13978388721599072, -0.19171146938288064, -0.22815410627606686, -0.24047900629925328, -0.24439110503315414, -0.24681655831458532, -0.24848533317012267, -0.2495466809800726, -0.25012654675108603, -0.25054292912451914, -0.2508328220634985, -0.25098677212615894, -0.2510623008279528, -0.2510907461024097, -0.2511191913768666, -0.2511476366513235, -0.2511760819257804, -0.2512045272002373, -0.25123297247469417, -0.25750017083316384, -0.2889211903926329, -0.3400813119357209, -0.3937970453580024, -0.4475207045867111, -0.5014279917586532, -0.5553353381887361, -0.6092600268138324, -0.6632137065145515, -0.7171673862152707, -0.7711314916716883, -0.8250983537012959, -0.8790661239568742, -0.9330373625753821, -0.9870086011940817, -1.0409808222880197, -1.094953634952255, -1.1489264476164904, -1.202899834698598, -1.2568732472861894, -1.3108467426830972, -1.3648203765951916, -1.418794010507286, -1.4727677098360035, -1.5267414264677557, -1.5807151495779166, -1.6346888974318683, -1.6886626452858213, -1.7426363996969687, -1.7966101596756017, -1.8505839196542346, -1.9045576839453222, -1.9585314484278964, -2.0125052135416817, -2.066478979711285, -2.1204527458808884, -2.1636441149768464, -2.1761001367025115, -2.1572032553323073, -2.112197896430842, -2.064475269086683, -2.016752641742524, -1.9690300143983648, -1.921307387054203, -1.8735847597100412, -1.8258621323658795, -1.7781395050217177, -1.730416877677556, -1.682026510076985, -1.633540485859369, -1.585054461641753, -1.536568437424137, -1.4880824132065211, -1.4395963889889052, -1.3911103647712892, -1.3426243405536733, -1.2941383163360574, -1.245122213433193, -1.1945151815879584, -1.1438779009837405, -1.0922420467641973, -1.0402982689656537, -0.9883544924254832, -0.937101318034481, -0.8899944136518037, -0.8429176604355515, -0.7958409072192993, -0.7487641540030472, -0.701687400786795, -0.6546106475705429, -0.6075338943542907, -0.5604571411380386, -0.5133803879217864, -0.46630363470553426, -0.4192268814892821, -0.37215012827302996, -0.3250733750567778, -0.27799662184052565, -0.2309198686242735, -0.18384311540802134, -0.1367663621917692, -0.08968960897551703, -0.0424175168837479, 0.007589974212623845, 0.05762306467559079, 0.1076561551385577, 0.15768924560152459, 0.20772233606449148, 0.25775542652745836, 0.30778851699042525, 0.35782160745339214, 0.40785469791635903, 0.4578877883793259, 0.5079208788422929, 0.5579539693052596, 0.6079870597682265, 0.6580201502311934, 0.7080532406941603, 0.7580863311571272, 0.8081194216200941, 0.858152512083061, 0.9081856025460279, 0.9582186930089948, 1.0082517834719618, 1.0582848739349284, 1.1083179643978953, 1.1585245598944602, 1.2088780557730663, 1.2592315516516723, 1.3095850475302784, 1.3599385434088844, 1.4102920392874905, 1.4606455351660965, 1.5109990310447026, 1.5613525269233086, 1.6117060228019147, 1.6620595186805207, 1.7124130145591268, 1.7627665104377328, 1.8131200063163389, 1.863473502194945, 1.913826998073551, 1.964180493952157, 2.0145339898307633, 2.064887485709371, 2.081671984335574], [1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07, 1.3140956144298654e-07], [1.6532731788489264e-19, -2.8584366951515206e-19, -2.8584366951515206e-19, -2.8584366951515206e-19, 0.00510634911680893, 0.034908496363761025, 0.0845160588469867, 0.13837416393337282, 0.19231425798008284, 0.24628643457716148, 0.3002760033921311, 0.35427279654098226, 0.4082710333467175, 0.4622702479798867, 0.5162700285277688, 0.5702699416155237, 0.6242699341235454, 0.678269926631567, 0.7322699191395887, 0.7862699116476104, 0.8402699041556321, 0.8942698966636538, 0.9446796628073576, 0.9777770669475039, 0.9889566907225749, 0.9944902233109274, 0.9999259267343606, 1.0030888948571877, 1.0062508564108759, 1.0090664346366833, 1.0113026025087708, 1.0135387703808532, 1.0155023748665473, 1.0173938829097, 1.0192585640143712, 1.0210207790932135, 1.0227829941661672, 1.0245146959167746, 1.0262280239972703, 1.0279413520777667, 1.0296364840703671, 1.0313308080210153, 1.0330224885411134, 1.0347097473603661, 1.0363970061796188, 1.038082170746618, 1.039766781370898, 1.0414511843701184, 1.043134794360012, 1.0448184043498607, 1.0465018041026581, 1.0481850253504283, 1.0498682465981986, 1.0515513295579384, 1.0532344063772527, 1.0549174629542293, 1.0566004856721465, 1.0582835083900641, 1.0567572046383467, 1.0465096151645443, 1.0280968475351966, 1.0034454813929155, 0.9781759178950968, 0.9529063543972789, 0.9276367908994609, 0.902367227401643, 0.877097663903825, 0.8518281004060063, 0.8265585369081876, 0.8012889734103689, 0.7773293513653465, 0.7535574045462754, 0.7297854577272043, 0.7060135109081331, 0.682241564089062, 0.6584696172699909, 0.6346976704509206, 0.6109257236318504, 0.5871537768127801, 0.564613574242335, 0.5457740326392236, 0.5273834725739159, 0.5298193808846463, 0.5445789184117866, 0.5593384603675795, 0.5757602501465721, 0.6021415756068833, 0.6285949176758183, 0.6550482597447533, 0.6815016018136884, 0.7079549438826234, 0.7344082859515584, 0.7608616280204934, 0.7873149700894284, 0.8137683121583634, 0.8402216542272984, 0.8666749962962335, 0.8931283383651685, 0.9195816804341035, 0.9460350225030385, 0.9724883645719735, 0.9989417066409085, 1.0253950487098435, 1.0518483907787786, 1.077896340789569, 1.0982643637503506, 1.118579133222942, 1.1388939026955334, 1.1592086721681247, 1.179523441640716, 1.1998382111133075, 1.2201529805858988, 1.2404677500584902, 1.2607825195310816, 1.281097289003673, 1.3014120584762647, 1.3217268279488574, 1.3420415974214501, 1.3623563668940428, 1.3826711363666355, 1.4029859058392284, 1.4233006753118211, 1.4436154447844138, 1.4639302142570065, 1.4842449837295992, 1.5045597532021922, 1.5248745226747848, 1.5451892921473775, 1.5650666768347914, 1.5845737384485543, 1.6040808000623172, 1.6235878616760802, 1.643094923289843, 1.662601984903606, 1.682109046517369, 1.7016161081311318, 1.7211231697448948, 1.7406302313586577, 1.7601372929724206, 1.7796443545861835, 1.7991514161999465, 1.8186584778137094, 1.8381655394274723, 1.8576726010412352, 1.8771796626549981, 1.896686724268761, 1.916193785882524, 1.9226961397537783]]", "trajname": "Traj name correct", "traj_id": 59}

var fullData = {
	'traj_id': 666,
	'trajname': 'test',
	'est_traj': "[[1, 2, 3, 4, 5, 6, 7],[0, 0, 0, 0, 0, 0, 0], [7, 6, 5, 4, 3, 2, 1]]",
	'ref_traj': "[[7, 6, 5, 4, 3, 2, 1], [0, 0, 0, 0, 0, 0, 0], [1, 2, 3, 4, 5, 6, 7]]",
	'des_traj': "[[2, 1, 4, 3, 6, 5, 7], [0, 0, 0, 0, 0, 0, 0], [7, 6, 5, 4, 3, 2, 1]]",
	'avgerr': 6.66,
	'hasdnn': false
};


var btn = document.getElementById('testPlotButton');

btn.onclick = displayData;

function displayData() {
	plot_graph('container-wrapper');
}
function plot_graph(container_id_str) {

	console.log('plot_graph() data ref_traj: ' + String(data['ref_traj']));
	var margin = {left: 30, right:20, top:30, bottom:30};
	var svg_x_range = window.innerWidth - 20;
	var svg_y_range = svg_x_range * 0.60;
	var width = svg_x_range - margin.left - margin.right;
	var height = svg_y_range - margin.top - margin.bottom;
	var svg = d3.select('#' + container_id_str).append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .attr("border", "black")
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	//var xrange = JSON.parse(data)['phys_range']['xrange']; // TODO - get ranges aligning with those on database
	var xdomain = [-3, 3];
	var ydomain = [0, 2];
	var xScale = d3.scale.linear()
		.range([0, width])
		.domain(xdomain);
	
	var yScale = d3.scale.linear()
		.range([height, margin.top])
		.domain(ydomain);
    
	var xAxis = d3.svg.axis()
		.scale(xScale)
		.orient("bottom")
		.ticks(10);
    
    var yAxis = d3.svg.axis()
		.scale(yScale)
		.orient("left")
		.ticks(8);

    svg.append("g")
		.attr("class", "x axis")
		.attr("transform", "translate(0," + height + ")")
		.call(xAxis);

	svg.append("g")
		.attr("class", "y axis")
		.call(yAxis);
		
	var lineFunc = d3.svg.line()
		.x(function(d, i) {
			return xScale(d.x);
		})
		.y(function(d, i) {
			return yScale(d.y);
		})
		.interpolate('linear');
		
	var estTrajData = data4plt(data['est_traj']);
	var refTrajData = data4plt(data['ref_traj']);
	var desTrajData = data4plt(data['des_traj']);
	
	svg.append("path")
		.attr('class', 'est_traj')
		.attr('d', lineFunc(estTrajData));
		
	svg.append("path")
		.attr('class', 'ref_traj')
		.attr('d', lineFunc(refTrajData));
		
	svg.append("path")
		.attr('class', 'des_traj')
		.attr('d', lineFunc(desTrajData));
	
	svg.append("g")
		.attr("id", "legend");
		
	var legend = svg.select("#legend");
	legend.append("rect")
		.attr("x", 0)
		.attr("y", 0)
		.attr("width", width)
		.attr("height", margin.top - 10)
		.attr("class", "legendbox");

	if (data['has_dnn'] == "true") {
		var w = width;
		var h = margin.top - 10;
		var wu = w / 3;
		var tw = 0.3;
				
		legend.append("line")
			.attr("x1", 0)
			.attr("y1", h / 2)
			.attr("x2", 0 + tw * wu)
			.attr("y2", h / 2)
			.attr("class", "des_traj");
		
		legend.append("text")
			.attr("x", 0 + tw * wu)
			.attr("y", 0.8*h)
			.text("desired");
		
		legend.append("line")
			.attr("x1", wu)
			.attr("y1", h / 2)
			.attr("x2", wu + tw * wu)
			.attr("y2", h / 2)
			.attr("class", "ref_traj");
		
		legend.append("text")
			.attr("x", wu + tw * wu)
			.attr("y", 0.8*h)
			.text("reference");

		legend.append("line")
			.attr("x1", wu*2)
			.attr("y1", h / 2)
			.attr("x2", wu*2 + tw * wu)
			.attr("y2", h / 2)
			.attr("class", "est_traj");
			
		legend.append("text")
			.attr("x", wu*2 + tw * wu)
			.attr("y", 0.8*h)
			.text("actual");
	} else {
		var w = width;
		var h = margin.top - 10;
		var wu = w / 2;
		var tw = 0.3;
				
		legend.append("line")
			.attr("x1", 0)
			.attr("y1", h / 2)
			.attr("x2", 0 + tw * wu)
			.attr("y2", h / 2)
			.attr("class", "des_traj");
		
		legend.append("text")
			.attr("x", 0 + tw * wu)
			.attr("y", 0.8*h)
			.text("desired");
		
		legend.append("line")
			.attr("x1", wu)
			.attr("y1", h / 2)
			.attr("x2", wu + tw * wu)
			.attr("y2", h / 2)
			.attr("class", "est_traj");
		
		legend.append("text")
			.attr("x", wu + tw * wu)
			.attr("y", 0.8*h)
			.text("actual");
	}
}

function data4plt(sLOL) {
	lineData = [];
	LOL = JSON.parse(sLOL);
	console.log('LOL[0] length: ' + LOL[0].length);
	for (var i = 0; i < LOL[0].length; i++) {
		pt = {'x': LOL[0][i], 'y': LOL[2][i]};
		lineData.push(pt);
		if (i == 5) {
			console.log('lineData:' + JSON.stringify(lineData));
		}
	}
	return lineData;
}


</script>


</body>
</html>
